<!DOCTYPE html>
<html>
  <head>
    <!-- Only resources and scaling definitions will be relevant here -->
  </head>
  <body>
    <!-- Initial content -->
    <h1>Hello World</h1>
    <div>
      <button id="create-dialog">Create Dialog</button>
    </div>

    <!-- Add scripts lastly -->
    <script src="https://cdn.jsdelivr.net/npm/@osjs/iframe/dist/main.js"></script>
    <script>
const {IFrame} = osjsIframe;
const inst = new IFrame();

inst.on('osjs:init', ({type}) => {
  inst.send({type: 'ping'});
});

inst.on('message', msg => {
  console.warn('[iframe] message', msg);

  if (msg.type === 'pong') {
    console.info('Application said hello');
  }
});

document.getElementById('create-dialog').addEventListener('click', () => {
  inst.send({type: 'create-dialog'}, ({btn, value}) => {
    console.info('Dialog response was', {btn, value});
  });
});
    </script>
  </body>
</html>
